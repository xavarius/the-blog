<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>App Links: Associating Multiple Android App Build Types with a Single Domain</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">App Links: Associating Multiple Android App Build Types with a Single Domain</h1>
</header>
<section data-field="subtitle" class="p-summary">
How to associate and verify ownership between your domain (a website) and multiple build types of the same Android app?
</section>
<section data-field="body" class="e-content">
<section name="1917" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="36d7" id="36d7" class="graf graf--h3 graf--leading graf--title"><strong class="markup--strong markup--h3-strong">App Links: Associating Multiple Android App Build Types with a Single Domain</strong></h3><p name="79b0" id="79b0" class="graf graf--p graf-after--h3">Although I won’t go into the configuration nor benefits of Android App Links, <br>you can find them <a href="https://developer.android.com/training/app-links" data-href="https://developer.android.com/training/app-links" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>, <a href="https://developer.android.com/training/app-links/verify-site-associations" data-href="https://developer.android.com/training/app-links/verify-site-associations" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>, and <a href="https://developers.google.com/digital-asset-links/v1/create-statement" data-href="https://developers.google.com/digital-asset-links/v1/create-statement" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>, I would like to elaborate on the missing documentation bit.</p><p name="c4a0" id="c4a0" class="graf graf--p graf-after--p">Specifically, how to associate and verify ownership between your domain <br>(a website) and multiple build types <strong class="markup--strong markup--p-strong">of the same</strong> Android application<br>using a Digital Asset Links JSON file. <br>Simply put, how to get rid of disambiguous dialog in such an environment.</p><figure name="5421" id="5421" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*sNCApKUp4caWwqZWqXZrMA.jpeg" data-width="576" data-height="1024" src="https://cdn-images-1.medium.com/max/800/1*sNCApKUp4caWwqZWqXZrMA.jpeg"><figcaption class="imageCaption">We do not want that, ever! Source: <a href="https://www.flickr.com/photos/adewale_oshineye/21830113332" data-href="https://www.flickr.com/photos/adewale_oshineye/21830113332" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">https://www.flickr.com/photos/adewale_oshineye/21830113332</a> Licence CC.</figcaption></figure></div></div></section><section name="cdee" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="7297" id="7297" class="graf graf--p graf--leading">While it’s not groundbreaking research, this guide can spare you <br>a couple of hours or even days of waiting impatiently to see if ownership <br>over an app has been verified.</p><p name="c5c6" id="c5c6" class="graf graf--p graf-after--p">In most cases, you’re not able to deploy a Digital Asset Links JSON file <br>on your own, thus you’re dependent on a third party to do so. <br>It means waiting. It’s better to do it once, properly.</p><p name="a11a" id="a11a" class="graf graf--p graf-after--p">App links (deep links) are usually not a standalone functionality of an app <br>yet rather a collaboration between many teams that drives users <br>into an app (for example, marketing campaigns).</p><p name="3623" id="3623" class="graf graf--p graf-after--p graf--trailing">More precisely app links usually require a bit of collaboration from a mobile team and marketing/DevOps/web/backend/you-name-it team from your company.</p></div></div></section><section name="a2d4" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="b0ac" id="b0ac" class="graf graf--p graf--leading">Let’s give an answer by starting with a question.</p><p name="9b4b" id="9b4b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Given</strong> the fact that an app has multiple build types, each having its own, distinct certificate fingerprint SHA-1<br><strong class="markup--strong markup--p-strong">When</strong> a subset of build types points into the same domain<br><strong class="markup--strong markup--p-strong">Then </strong>could ownership be verified for all build types using a single domain?</p><figure name="3f0a" id="3f0a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*MSFfUt4ondPMJ5aVmTPGuQ.jpeg" data-width="742" data-height="692" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*MSFfUt4ondPMJ5aVmTPGuQ.jpeg"><figcaption class="imageCaption">This is the “complexity” we’re facing. Source: DIY.</figcaption></figure><p name="6101" id="6101" class="graf graf--p graf-after--figure">Let’s give an example since it might be confusing.</p><p name="b7a7" id="b7a7" class="graf graf--p graf-after--p">An app has DEV (<em class="markup--em markup--p-em">debug</em>) and QA/UAT/SIT (<em class="markup--em markup--p-em">debug</em> and <em class="markup--em markup--p-em">release</em>) build type configurations that are both pointing to the same domain (website), <br>say, <em class="markup--em markup--p-em">uat.example.com</em>. That means you have two “apps” with <br>two <strong class="markup--strong markup--p-strong">distinct</strong> signing key configs: two distinct SHA-1 certificate fingerprints are being used to validate ownership of App Links via a single domain that hosts the assetlinks.json file.</p><p name="0960" id="0960" class="graf graf--p graf-after--p">If you have a single domain, can you verify ownership of two apps using two distinct certificates?</p><p name="f804" id="f804" class="graf graf--p graf-after--p">Yes, you can, it’s <a href="https://developer.android.com/training/app-links/verify-site-associations#multiple-apps" data-href="https://developer.android.com/training/app-links/verify-site-associations#multiple-apps" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">documented</a>.</p><p name="1902" id="1902" class="graf graf--p graf-after--p">Our case is a bit different. What if an app also has links configured for <em class="markup--em markup--p-em">uat.mobile.example.com</em> subdomain and both <em class="markup--em markup--p-em">debug</em> and <em class="markup--em markup--p-em">release</em> build types of the same app are pointed into it? Could I verify ownership upon a second subdomain using both <em class="markup--em markup--p-em">debug</em> and <em class="markup--em markup--p-em">release</em> certificates again?</p><p name="e194" id="e194" class="graf graf--p graf-after--p">The answer is: Yes, it can be easily achieved.</p><p name="5a39" id="5a39" class="graf graf--p graf-after--p">This is an assetlinks.json content you have to <a href="https://developer.android.com/training/app-links/verify-site-associations" data-href="https://developer.android.com/training/app-links/verify-site-associations" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">upload</a> to your subdomains.</p><figure name="0c92" id="0c92" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/xavarius/2a532bf2d187b5911d38d00fb3de7385.js"></script></figure><p name="57f7" id="57f7" class="graf graf--p graf-after--figure">In the example above, the Digital Asset Links JSON file is configured to support a particular build type</p><blockquote name="a8a4" id="a8a4" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“package_name”: “com.example.app.buildType1”</blockquote><p name="691a" id="691a" class="graf graf--p graf-after--blockquote">which should be verified using debug SHA-1 certificate</p><blockquote name="49b4" id="49b4" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“sha256_cert_fingerprints”: [“debugCertificateFingerprintHere”]</blockquote><p name="239c" id="239c" class="graf graf--p graf-after--blockquote">while the second build type has a “release” nature and uses a release SHA-1 certificate for ownership to be verified</p><blockquote name="ef84" id="ef84" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“package_name”: “com.example.app.buildType2”,</blockquote><blockquote name="3592" id="3592" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--blockquote">“sha256_cert_fingerprints”: [“releaseCertificateFingerprintHere”]</blockquote><p name="5740" id="5740" class="graf graf--p graf-after--blockquote">Lemme explain a bit. The Digital Asset Links JSON file is a plain JSON file.</p><p name="588f" id="588f" class="graf graf--p graf-after--p">It contains a list (table) of elements as a top-level element.</p><p name="6c8c" id="6c8c" class="graf graf--p graf-after--p graf--trailing">All you have to do is to provide an entry for each of your build types with an appropriate SHA-1 fingerprint. And <a href="https://developer.android.com/training/app-links/verify-site-associations" data-href="https://developer.android.com/training/app-links/verify-site-associations" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">deploy</a> it in <a href="https://developers.google.com/digital-asset-links/v1/create-statement#website_statement_file" data-href="https://developers.google.com/digital-asset-links/v1/create-statement#website_statement_file" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">each domain</a> you’re interested in. Voila!</p></div></div></section><section name="66c4" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="7a51" id="7a51" class="graf graf--p graf--leading">This configuration is extremely useful if you love the flexibility and the opportunity of using any number of environments with any of your build types. It enhances the testability of an app and increases data diversity while easing debugging— all because you can choose which environment will be used while implementing and testing your application.</p><figure name="5623" id="5623" class="graf graf--figure graf-after--p graf--trailing"><img class="graf-image" data-image-id="1*pqei5mOJjnLprLAotZuAZg.jpeg" data-width="1049" data-height="1200" src="https://cdn-images-1.medium.com/max/800/1*pqei5mOJjnLprLAotZuAZg.jpeg"><figcaption class="imageCaption">Yeah,<strong class="markup--strong markup--figure-strong"> sharing is caring</strong>, remember that!</figcaption></figure></div></div></section><section name="296e" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="c906" id="c906" class="graf graf--p graf--leading graf--trailing">Thank you, <a href="https://www.linkedin.com/in/wdawiskiba/" data-href="https://www.linkedin.com/in/wdawiskiba/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Wojtek</a> for the peer review. It’s delightful to have such support. :)</p></div></div></section><section name="8a2e" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="6bb0" id="6bb0" class="graf graf--p graf--leading">If you wanna reach me do not hesitate to do so. :)</p><p name="6e13" id="6e13" class="graf graf--p graf-after--p graf--trailing"><a href="https://www.linkedin.com/in/maciejmalak/" data-href="https://www.linkedin.com/in/maciejmalak/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Linkedin</a> | <a href="https://twitter.com/MonkeyDevsPl" data-href="https://twitter.com/MonkeyDevsPl" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Twitter</a> | <a href="http://hellomonkeydevs@gmail.com" data-href="http://hellomonkeydevs@gmail.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">email</a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@maciekmalak" class="p-author h-card">Maciek Malak</a> on <a href="https://medium.com/p/480b351147d4"><time class="dt-published" datetime="2022-06-08T08:41:47.671Z">June 8, 2022</time></a>.</p><p><a href="https://medium.com/@maciekmalak/app-links-associating-multiple-android-app-build-types-with-a-single-domain-480b351147d4" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on June 5, 2025.</p></footer></article></body></html>